Chore: Refactor and add more detailed comment